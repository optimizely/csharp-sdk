# C# SDK Demo App

This demo uses the C# SDK, a part of Optimizely's Full Stack solution. It will walk you through:

1. How to bucket users into experiment's variation(s)
2. How to track conversion events
3. How to view the experiment’s results

## Demo App

This example App simulates an online retailer testing the effects of sorting products by price vs name.

Using the instructions below, you can run the app locally and mimic bucketing website visitors by selecting a users from "Select Visitor" page. For example, the user ID “Mike” would simulate a unique visitor and a specific variation would be selected for that unique visitor. The variation that is given to a specific unique visitor, such as "Mike", will be deterministic. This means as long as the experiment conditions remain the same, Mike will always get the same variation.

### Deploying and Running the App

1. Login or create an [Optimizely Account](https://app.optimizely.com/signin).
2. See Optimizely's [Get Started with the C# SDK](https://developers.optimizely.com/x/solutions/sdks/getting-started/?language=csharp) for basic information on how to create an Optimizely C# project and experiment.
3. Create a C# project containing a new experiment via the Optimizely dashboard.
    * OPTIMIZELY.COM, "Projects Dashboard", "Switch Project", "New Project", "Create C# Project", "Name", "csharp_demo_app", "Create Project".  These actions create a project directing you to a URL that looks like https://app.optimizely.com/v2/projects/ProjectId/experiments .  Make note of your ProjectId .
    * Experiment Key: "my_experiment" ("Create New", "Experiment", "my_experiment").
4. Add the following to your experiment:
	* Variation Keys: "sort_by_price" and "sort_by_name".
	* Metrics: "Overall revenue"
	* Event Key: "add_to_cart".
	("Create New Event...", "Add to Experiment")
5. Save and start your experment
   ("Create Experiment", "Start Experiment")
6. In "Audiences" tab of your project's Optimizely dashboard, create 
    * 3 Audience attributes "user_id", "user_name", and "age".
    ("Audiences", "Add an Audience",
    "New Attribute", "age", "Save Attribute",
    "New Custom Attribute" "user_name" "Save Attribute",
    "New Custom Attribute" "user_id" "Save Attribute")
    * You can use these Audience attributes later to define Audience Conditions and Audiences for your experiment, if you wish.
7. Build and Run the OptimizelySDK.DemoApp C# application.  The DemoApp is an "ASP.NET Core Web App" that typically opens at http://127.0.0.1:8080/ in your default web browser.
8. Click the "Demo App" button to go to the "Configuration" page.
9. Enter your ProjectId, ExperimentKey and EventKey values and click Save to load the datafile of your project in ProjectConfigJson textbox. The Optimizely client is now initialized with your project configuration and is ready to serve the requests.
10. You’re all set. Play around and view the experiment's results! "Select Simulated Visitor", "Shop", and "Messages" from the toolbar.

To better understand this experiment, we recommend that you select a few different visitors on the "Select Visitor" page and bucket them into variations and simulate a conversion event by clicking the "Buy Now" button on the "Shop" page. Within a few seconds, you should see the results populate on the Optimizely results page.

The crux of this Full Stack experiment is bucketing users into variations and exposing them to different sorting functions. The SDK’s `Activate()` function will bucket users into a variation based on a user ID (internal id, user cookie, etc…).

To actually test which sorting algorithm influences increased sales, we need to track the number of clicks on the Buy Now button. We can leverage the SDK's `Track()` function for that, passing it the event key which, in our case, is "add_to_cart" and the user ID.

Finally, the "Messages" page lists the logs generated by Optimizely SDK in chronological order.

## Getting Help! 

* Developer Docs: https://developers.optimizely.com/x/solutions/sdks/reference/index.html?language=csharp
* Questions? Shoot us an email at developers@optimizely.com
